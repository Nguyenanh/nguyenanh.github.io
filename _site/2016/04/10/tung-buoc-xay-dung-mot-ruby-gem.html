<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Từng bước để xây dựng một Ruby Gem &#8211; NguyenAnh Dev Blog</title>
<meta name="description" content="Bài viết này chúng sẽ không đi sâu vào lý thuyết, thay vào đó sẽ sẽ hướng dẫn các bạn bước từng bước để tạo ra một gem đơn giản nhất có thể chính là tạo ra helper in ra dòng Hello Word. Nghe thôi thấy cũng đơn giản rồi :D. Bắt đầu thôi.">
<meta name="keywords" content="ruby, gem, rails">


<!-- Twitter Cards -->
<meta name="twitter:title" content="Từng bước để xây dựng một Ruby Gem">
<meta name="twitter:description" content="Bài viết này chúng sẽ không đi sâu vào lý thuyết, thay vào đó sẽ sẽ hướng dẫn các bạn bước từng bước để tạo ra một gem đơn giản nhất có thể chính là tạo ra helper in ra dòng Hello Word. Nghe thôi thấy cũng đơn giản rồi :D. Bắt đầu thôi.">



<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="Từng bước để xây dựng một Ruby Gem">
<meta property="og:description" content="Bài viết này chúng sẽ không đi sâu vào lý thuyết, thay vào đó sẽ sẽ hướng dẫn các bạn bước từng bước để tạo ra một gem đơn giản nhất có thể chính là tạo ra helper in ra dòng Hello Word. Nghe thôi thấy cũng đơn giản rồi :D. Bắt đầu thôi.">
<meta property="og:url" content="/2016/04/10/tung-buoc-xay-dung-mot-ruby-gem">
<meta property="og:site_name" content="NguyenAnh Dev Blog">

<meta property="og:image" content="/images/default-thumb.png">






<link rel="canonical" href="/2016/04/10/tung-buoc-xay-dung-mot-ruby-gem">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="NguyenAnh Dev Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">NguyenAnh Dev Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav id="site-nav" class="nav">
		    <ul>
		        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				    <li><a href="/posts/" >All Post</a></li>
				
				    
				    <li><a href="/theme-setup/" >Theme Setup</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->




<div id="main" role="main">
  <div class="article-author-side">
    

<div itemscope itemtype="http://schema.org/Person">


	<img src="/images/bio-photo.jpeg" class="bio-photo" alt="Nguyen Anh bio photo">


  <h3 itemprop="name">Nguyen Anh</h3>
  <p>A VietNam web developer</p>
  <a href="mailto:cauut2117610@gmail.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  
  <a href="http://facebook.com/anh.nguyen21176" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>
  
  
  
  
  
  <a href="http://github.com/Nguyenanh" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  
  
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/2016/04/10/tung-buoc-xay-dung-mot-ruby-gem" rel="bookmark" title="Từng bước để xây dựng một Ruby Gem">Từng bước để xây dựng một Ruby Gem</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Bài viết này chúng sẽ không đi sâu vào lý thuyết, thay vào đó sẽ sẽ hướng dẫn các bạn bước từng bước để tạo ra một <code class="highlighter-rouge">gem</code> đơn giản nhất có thể chính là tạo ra helper in ra dòng <code class="highlighter-rouge">Hello Word</code>. Nghe thôi thấy cũng đơn giản rồi :D. Bắt đầu thôi.</p>

<h2 id="i-xy-dng-gem">I: Xây dựng Gem</h2>

<h4 id="bc-1-to-cu-trc-ca-gem">Bước 1: Tạo cấu trúc của <code class="highlighter-rouge">gem</code></h4>

<p><code class="highlighter-rouge">ruby
bundle gem helloword-rails
</code>
Chúng ta sẽ được cấu trúc như này sau khi chạy lệnh trên.</p>
<figure>
	<img src="https://cloud.githubusercontent.com/assets/7424863/14407550/b8d384a2-fef7-11e5-82af-1bb2a7cbc944.png" />
</figure>

<h4 id="bc-2-to-mt-file-helper-hellowordhelperrb">Bước 2: Tạo một file helper <code class="highlighter-rouge">helloword_helper.rb</code></h4>

<p>Tiếp theo tạo ra một file helper đặt trong thư mục <code class="highlighter-rouge">lib/helloword/rails</code> bằng cách chạy 2 dòng lệnh dưới đây.</p>

<p><code class="highlighter-rouge">ruby
cd helloword-rails/
touch lib/helloword/rails/helloword_helper.rb
</code></p>

<h4 id="bc-3-to-ra-mt-phng-thc-ca-helper--in-ra-dng-hello-word">Bước 3: Tạo ra một phương thức của helper để in ra dòng hello word</h4>

<p>Mở file <code class="highlighter-rouge">helloword_helper.rb</code> và thêm nhưng dòng code dưới dây vào.</p>

<p><code class="highlighter-rouge">ruby
# lib/helloword/rails/helloword_helper.rb
module HellowordHelper
  def hello_word_tag
    "Hello Word!!!"
  end
end
</code>
#### Bước 4: Khai báo helper của chúng ta vào rails</p>

<p>Khao báo helper của chúng ta vào <code class="highlighter-rouge">ActionView::Helpers::AssetTagHelper</code> để Rails có thể biết và thực thi nó.</p>

<p>``` ruby
# lib/helloword/rails.rb
require “helloword/rails/version”
require “helloword/rails/helloword_helper”</p>

<p>module ActionView
  module Helpers
    module AssetTagHelper
      include HellowordHelper
    end
  end
end
```
#### Bước 5: Tạo một ứng dụng Rails để test gem.</p>

<p>Chạy lệnh sau để tạo mới ứng dụng rails.</p>

<p><code class="highlighter-rouge">ruby
# terminal
rails new helloword-rails-app
cd helloword-rails-app
rails generate controller site index
</code></p>

<h4 id="bc-6-thm-gem-ca-chng-ta-vo-gemfile">Bước 6: Thêm gem của chúng ta vào <code class="highlighter-rouge">Gemfile</code></h4>

<p>Trong file view <code class="highlighter-rouge">index.html.erb</code> và thêm helper của chúng ta vào.</p>

<p>``` ruby
#view/site/index.html.erb</p>
<h1>&lt;%= hello_word_tag %&gt;</h1>

<p>```
Mở <code class="highlighter-rouge">Gemfile</code> và thêm dòng</p>

<p><code class="highlighter-rouge">ruby
# Gemfile
gem 'helloword-rails', '0.1.0', path: '/Users/admin/Project-Ruby/helloword-rails/'
</code></p>

<p>Trong đó <code class="highlighter-rouge">path</code> là đường dẫn chưa source gem của tôi và bạn sẽ thay vào đó đường dẫn của bạn.
Cuối cũng chạy lệnh <code class="highlighter-rouge">bundle install</code> và <code class="highlighter-rouge">rails s</code>, sau đó truy cập <a href="http://localhost:3000/site/index">http://localhost:3000/site/index</a></p>
<figure>
	<img src="https://cloud.githubusercontent.com/assets/7424863/14407815/663ffd2a-ff00-11e5-818c-2e6716c65e45.png" />
</figure>
<p>Quá đơn giản !!!!</p>

<h2 id="ii-public-gem-ln-trang-ch">II: Public gem lên trang chủ.</h2>

<p>Thay đổi một số thông tin trong <code class="highlighter-rouge">helloword-rails.gemspec</code></p>

<p>``` ruby
# coding: utf-8
lib = File.expand_path(‘../lib’, <strong>FILE</strong>)
$LOAD_PATH.unshift(lib) unless $LOAD_PATH.include?(lib)
require ‘helloword/rails/version’</p>

<p>Gem::Specification.new do |spec|
  spec.name          = “helloword-rails”
  spec.version       = Helloword::Rails::VERSION
  spec.authors       = “Nguyen Anh”
  spec.email         = “cauut2117610@gmail.com”</p>

<p>spec.summary       = %q{Write a short summary, because Rubygems requires one.}
  spec.description   = %q{Write a longer description or delete this line.}
  spec.homepage      = “https://github.com/Nguyenanh/helloword-rails”
  spec.license       = “MIT”</p>

<p>spec.files         = <code class="highlighter-rouge">git ls-files -z</code>.split(“\x0”).reject { |f| f.match(%r{^(test|spec|features)/}) }
  spec.bindir        = “exe”
  spec.executables   = spec.files.grep(%r{^exe/}) { |f| File.basename(f) }
  spec.require_paths = [“lib”]</p>

<p>spec.add_development_dependency “bundler”, “~&gt; 1.11”
  spec.add_development_dependency “rake”, “~&gt; 10.0”
  spec.add_development_dependency ‘rspec’
end
```
Build gem của chúng ta với lệnh.</p>

<p><code class="highlighter-rouge">ruby
#terminal
rake build
</code></p>

<p>Sau khi build thành công chúng ta được file <code class="highlighter-rouge">pkg/helloword-rails-0.1.0.gem</code>.
Cuối cùng đưa gem lên trang chủ <a href="https://rubygems.org">https://rubygems.org</a>.</p>

<p><code class="highlighter-rouge">ruby
#terminal
gem push pkg/helloword-rails-0.1.0.gem
</code></p>

<p>Sau đó chúng ta có thể dùng <code class="highlighter-rouge">helloword-rails</code> một cách bình thường.</p>

<p>Quá đơn giản!!!.</p>

<p><a href="https://github.com/Nguyenanh/helloword-rails">helloword-rails</a></p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=/2016/04/10/tung-buoc-xay-dung-mot-ruby-gem" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=/2016/04/10/tung-buoc-xay-dung-mot-ruby-gem" class="facebook" title="Share on Facebook"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=/2016/04/10/tung-buoc-xay-dung-mot-ruby-gem" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->
        <p class="byline"><strong>Từng bước để xây dựng một Ruby Gem</strong> was published on <time datetime="2016-04-10T00:00:00-03:00">April 10, 2016</time> and last modified on <time datetime="2016-03-28">March 28, 2016</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/2016/05/01/singleton-pattern-trong-ruby" title="Singleton - Design Pattern trong Ruby">Singleton - Design Pattern trong Ruby</a></li>
    
      <li><a href="/2016/04/13/rails-5-them-loi-canh-bao-khi-quey-du-lieu-lon" title="Thêm lời cảnh báo khi query dữ liêụ lớn trong rails 5">Thêm lời cảnh báo khi query dữ liêụ lớn trong rails 5</a></li>
    
      <li><a href="/2016/03/28/cau-hinh-deploy-du-an-rails-voi-capistrano-unicorn-va-nginx" title="Cấu hình deploy một dự án Rails với capistrano, unicorn và nginx">Cấu hình deploy một dự án Rails với capistrano, unicorn và nginx</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>2016 Nguyen Anh.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


  




</body>
</html>
